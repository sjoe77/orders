<%= render AppShellComponent.new do |shell| %>
  <% shell.with_header do %>
    <%= render HeaderComponent.new(title: "Product Details") %>
  <% end %>

  <% shell.with_navigation do %>
    <%= render NavigationComponent.new %>
  <% end %>

  <% shell.with_main_content do %>
    <div class="container-fluid px-3 pb-4">
      <div class="row mb-4">
        <div class="col-8">
          <h3><%= @product.name_nm %></h3>
          <p class="text-muted"><%= @product.product_key_nm %></p>
        </div>
        <div class="col-4 text-end">
          <%= link_to edit_product_path(@product), class: 'btn btn-primary me-2' do %>
            <i class="bi bi-pencil"></i>
            Edit
          <% end %>
          <%= link_to products_path, class: 'btn btn-outline-secondary' do %>
            <i class="bi bi-list"></i>
            Back to List
          <% end %>
        </div>
      </div>

      <div class="row">
        <!-- Product Information -->
        <div class="col-md-6">
          <div class="card">
            <div class="card-header">
              <h5 class="mb-0">Product Information</h5>
            </div>
            <div class="card-body">
              <div class="row mb-3">
                <div class="col-sm-4"><strong>Product Key:</strong></div>
                <div class="col-sm-8"><%= @product.product_key_nm %></div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-4"><strong>SKU:</strong></div>
                <div class="col-sm-8"><%= @product.sku_nm %></div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-4"><strong>Name:</strong></div>
                <div class="col-sm-8"><%= @product.name_nm %></div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-4"><strong>Description:</strong></div>
                <div class="col-sm-8"><%= @product.description_txt %></div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-4"><strong>Unit Price:</strong></div>
                <div class="col-sm-8"><%= number_to_currency(@product.unit_price_amt) %></div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-4"><strong>Cost:</strong></div>
                <div class="col-sm-8"><%= number_to_currency(@product.cost_amt) %></div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-4"><strong>Weight:</strong></div>
                <div class="col-sm-8"><%= @product.weight_num %></div>
              </div>
              <div class="row mb-3">
                <div class="col-sm-4"><strong>Active:</strong></div>
                <div class="col-sm-8">
                  <span class="badge <%= @product.active_flag ? 'bg-success' : 'bg-secondary' %>">
                    <%= @product.active_flag ? 'Yes' : 'No' %>
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Categories -->
        <div class="col-md-6">
          <div class="card">
            <div class="card-header">
              <h5 class="mb-0">Categories</h5>
            </div>
            <div class="card-body">
              <% if @product.categories.any? %>
                <% @product.categories.each do |category| %>
                  <span class="badge bg-primary me-2 mb-2"><%= category.name_nm %></span>
                <% end %>
              <% else %>
                <p class="text-muted mb-0">No categories assigned</p>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>
  <% end %>
<% end %>